"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[96],{874:function(s,e,t){t.r(e),t.d(e,{default:function(){return q}});var o=t(1413),i=t(5671),r=t(3144),n=t(136),a=t(2882),l=t(2791),c=t(8687),u=t(846),d="Profile_content__aUk8J",h=t(885),f={descriptionBlock:"ProfileInfo_descriptionBlock__IIcph",refreshPhoto:"ProfileInfo_refreshPhoto__sqVl5",loadingPhoto:"ProfileInfo_loadingPhoto__INVb2",contact:"ProfileInfo_contact__CrO9B",user:"ProfileInfo_user__Dk4Mu"},p=t(9041),j=t(184),x=function(s){var e=s.status,t=s.updateStatus,o=(0,l.useState)(!1),i=(0,h.Z)(o,2),r=i[0],n=i[1],a=(0,l.useState)(e),c=(0,h.Z)(a,2),u=c[0],d=c[1];(0,l.useEffect)((function(){d(e)}),[e]);return(0,j.jsx)("div",{children:r?(0,j.jsx)("div",{children:(0,j.jsx)("input",{onChange:function(s){d(s.currentTarget.value)},autoFocus:!0,value:u,onBlur:function(){n(!1),t(u)}})}):(0,j.jsxs)("div",{children:[(0,j.jsx)("b",{children:"Status:"}),"  ",(0,j.jsx)("span",{onDoubleClick:function(){n(!0)},children:e||"No status"})]})})},m=t.p+"static/media/bussiness-man.46d7f612aa4b54075372.png",v=t.p+"static/media/loadingPhoto.a21a31d87cf07001ceb9.png",b=t(1812),P=t(704),g=t(4297),_=(0,P.Z)({form:"edit-profile"})((function(s){var e=s.handleSubmit,t=s.error,o=(0,c.v9)((function(s){return s.profilePage.profile}));return(0,j.jsxs)("form",{onSubmit:e,children:[(0,j.jsx)("button",{children:"Save"}),t&&(0,j.jsx)("div",{className:g.Z.formSummaryError,children:t}),(0,j.jsxs)("div",{children:[(0,j.jsx)("b",{children:"Full Name:"})," ",(0,b.Gr)("fullName",[],b.II,"Full name","input")]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("b",{children:"Looking for a job:"}),(0,b.Gr)("lookingForAJob",[],b.II,"Looking forA job","checkbox")]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("b",{children:"My professional skills:"}),(0,b.Gr)("lookingForAJobDescription",[],b.Kx,"My professional skills","textarea")]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("b",{children:"About me:"}),(0,b.Gr)("AboutMe",[],b.Kx,"About me","textarea")]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("b",{children:"Contacts:"})," ",Object.keys(o.contacts).map((function(s){return(0,j.jsx)("div",{children:(0,j.jsxs)("b",{children:[" ",(0,b.Gr)(s,[],b.II,"contacts."+s,"input")]})},s)}))]})]})})),k=function(s){var e=s.profile,t=s.updateStatus,o=s.status,i=s.isOwner,r=s.savePhoto,n=s.saveProfile,a=(0,l.useState)(!1),c=(0,h.Z)(a,2),u=c[0],d=c[1];if(!e)return(0,j.jsx)(p.p,{});var b=e.photos.large?e.photos.large:m;return(0,j.jsx)("div",{className:f.profile,children:(0,j.jsxs)("div",{className:f.descriptionBlock,children:[(0,j.jsx)("img",{className:f.user,src:b}),i&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("label",{className:f.customFileInput,htmlFor:"add_avatar",children:(0,j.jsxs)("div",{className:f.refreshPhoto,children:[(0,j.jsx)("img",{className:f.loadingPhoto,src:v}),"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0444\u043e\u0442\u043e"]})}),(0,j.jsx)("input",{id:"add_avatar",hidden:!0,type:"file",name:"file",onChange:function(s){s.target.files&&s.target.files.length&&r(s.target.files[0])}})]}),u?(0,j.jsx)(_,{initialValues:{fullName:e.fullName,aboutMe:e.aboutMe,lookingForAJob:e.lookingForAJob,lookingForAJobDescription:e.lookingForAJobDescription},onSubmit:function(s){n(s).then((function(){d(!1)}))}}):(0,j.jsx)(N,{goToEditMode:function(){return d(!0)},profile:e,isOwner:i}),(0,j.jsx)(x,{status:o,updateStatus:t})]})})},N=function(s){var e=s.profile,t=s.isOwner,o=s.goToEditMode;return(0,j.jsxs)("div",{children:[t&&(0,j.jsx)("div",{children:(0,j.jsx)("button",{onClick:o,children:"Edit"})}),(0,j.jsxs)("div",{children:[(0,j.jsx)("b",{children:"Full Name:"})," ",e.fullName]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("b",{children:"Looking for a job:"})," ",e.lookingForAJob?"yes":"no"]}),e.lookingForAJob&&(0,j.jsxs)("div",{children:[(0,j.jsx)("b",{children:"My professional skills:"})," ",e.lookingForAJobDescription]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("b",{children:"About me:"})," ",e.aboutMe]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("b",{children:"Contacts:"})," ",Object.keys(e.contacts).map((function(s){return(0,j.jsx)(S,{contactTitle:s,contactValue:e.contacts[s]},s)}))]})]})},S=function(s){var e=s.contactTitle,t=s.contactValue;return(0,j.jsxs)("div",{className:f.contact,children:[(0,j.jsx)("b",{children:e}),": ",t]})},I="MyPost_postBlock__6vI7y",y="MyPost_posts__zBSHf",A="MyPost_addPost__ukw3i",F="MyPost_h3__WFJl1",C="Post_item__NdJ--",M="Post_textContainer__kA-1s",w="Post_likeContainer__zKa6l",J=t.p+"static/media/man.ab45eb1d42b1faaf3d12.png",D=function(s){var e=s.likesCount,t=s.messages;return(0,j.jsxs)("div",{children:[(0,j.jsxs)("div",{className:C,children:[(0,j.jsx)("img",{src:J}),(0,j.jsx)("div",{className:M,children:t})]}),(0,j.jsx)("div",{className:w,children:(0,j.jsxs)("span",{children:["Like ",e]})})]})},U=t(1047),Z="AddNewPostForm_btn__a9tNn",O=(0,U.D)(10),B=(0,P.Z)({form:"AddNewPostForm"})((function(s){var e=s.handleSubmit;return(0,j.jsxs)("form",{onSubmit:e,children:[(0,b.Gr)("newPost",[U.C,O],b.Kx,"Post Message","input"),(0,j.jsx)("div",{children:(0,j.jsx)("button",{className:Z,children:"ADD YOUR POST"})})]})})),E=l.memo((function(s){var e=s.posts,t=s.addPost,o=e.map((function(s,e){return(0,j.jsx)(D,{messages:s.messages,likesCount:s.likesCount},e)}));return(0,j.jsxs)("div",{className:I,children:[(0,j.jsx)("h3",{className:F,children:"My post"}),(0,j.jsx)("div",{className:A,children:(0,j.jsx)("div",{children:(0,j.jsx)(B,{onSubmit:function(s){t(s.newPost)}})})}),(0,j.jsx)("div",{className:y,children:o})]})})),G=(0,c.$j)((function(s){return{posts:s.profilePage.posts}}),(function(s){return{addPost:function(e){s((0,u.Pi)(e))}}}))(E),T=function(s){var e=s.profile,t=s.savePhoto,o=s.status,i=s.updateStatus,r=s.isOwner,n=s.saveProfile;return e?(0,j.jsxs)("div",{className:d,children:[(0,j.jsx)(k,{saveProfile:n,savePhoto:t,isOwner:r,profile:e,status:o,updateStatus:i}),(0,j.jsx)(G,{})]}):(0,j.jsx)(p.p,{})},V=t(4880),z=t(2932),K=t(7781),L=function(s){(0,n.Z)(t,s);var e=(0,a.Z)(t);function t(){return(0,i.Z)(this,t),e.apply(this,arguments)}return(0,r.Z)(t,[{key:"refreshProfile",value:function(){var s=this.props,e=s.authorizedUserId,t=s.history,o=s.getUserProfile,i=s.getUserStatus,r=this.props.match.params.userId;r||(r=null===e?"2":e.toString())||t.push("/login"),o(r),i(r)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(s,e,t){this.props.match.params.userId!==s.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return(0,j.jsx)("div",{children:(0,j.jsx)(T,(0,o.Z)((0,o.Z)({isOwner:!this.props.match.params.userId},this.props),{},{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,savePhoto:this.props.savePhoto}))})}}]),t}(l.Component),q=(0,K.qC)((0,c.$j)((function(s){return{profile:s.profilePage.profile,status:s.profilePage.status,authorizedUserId:s.authUsers.userId,isAuth:s.authUsers.isAuth}}),{setUsersProfile:u.hA,getUserProfile:u.et,getUserStatus:u.lR,updateStatus:u.Nf,savePhoto:u.Ju,saveProfile:u.Ii}),V.EN,z.D)(L)}}]);
//# sourceMappingURL=96.0d228a75.chunk.js.map