"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[71],{8339:function(s,e,t){t.r(e),t.d(e,{default:function(){return K}});var i=t(1413),n=t(5671),r=t(3144),a=t(136),o=t(2882),l=t(2791),u=t(8687),c=t(846),d="Profile_content__aUk8J",h={descriptionBlock:"ProfileInfo_descriptionBlock__IIcph",refreshPhoto:"ProfileInfo_refreshPhoto__sqVl5",loadingPhoto:"ProfileInfo_loadingPhoto__INVb2",user:"ProfileInfo_user__Dk4Mu"},p=t(9041),f=t(885),m=t(184),j=function(s){var e=s.status,t=s.updateStatus,i=(0,l.useState)(!1),n=(0,f.Z)(i,2),r=n[0],a=n[1],o=(0,l.useState)(e),u=(0,f.Z)(o,2),c=u[0],d=u[1];(0,l.useEffect)((function(){d(e)}),[e]);return(0,m.jsxs)("div",{children:[r?(0,m.jsx)("div",{children:(0,m.jsx)("input",{onChange:function(s){d(s.currentTarget.value)},autoFocus:!0,value:c,onBlur:function(){a(!1),t(c)}})}):(0,m.jsx)("div",{children:(0,m.jsx)("span",{onDoubleClick:function(){a(!0)},children:e||"No status"})}),")"]})},x=t.p+"static/media/bussiness-man.46d7f612aa4b54075372.png",P=t.p+"static/media/loadingPhoto.a21a31d87cf07001ceb9.png",v=function(s){var e=s.profile,t=s.updateStatus,i=s.status,n=s.isOwner,r=s.savePhoto;if(!e)return(0,m.jsx)(p.p,{});var a=e.photos.large?e.photos.large:x;return(0,m.jsx)("div",{className:h.profile,children:(0,m.jsxs)("div",{className:h.descriptionBlock,children:[(0,m.jsx)("img",{className:h.user,src:a}),n&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("label",{className:h.customFileInput,htmlFor:"add_avatar",children:(0,m.jsxs)("div",{className:h.refreshPhoto,children:[(0,m.jsx)("img",{className:h.loadingPhoto,src:P}),"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0444\u043e\u0442\u043e"]})}),(0,m.jsx)("input",{id:"add_avatar",hidden:!0,type:"file",name:"file",onChange:function(s){s.target.files&&s.target.files.length&&r(s.target.files[0])}})]}),(0,m.jsx)(j,{status:i,updateStatus:t}),(0,m.jsxs)("ul",{children:[(0,m.jsx)("li",{children:(0,m.jsx)("span",{children:e.contacts.facebook})}),(0,m.jsx)("li",{children:(0,m.jsx)("span",{children:e.contacts.github})}),(0,m.jsx)("li",{children:(0,m.jsx)("span",{children:e.contacts.vk})}),(0,m.jsx)("li",{children:(0,m.jsx)("span",{children:e.contacts.instagram})}),(0,m.jsx)("li",{children:(0,m.jsx)("span",{children:e.contacts.twitter})})]})]})})},_="MyPost_postBlock__6vI7y",g="MyPost_posts__zBSHf",k="MyPost_addPost__ukw3i",N="MyPost_h3__WFJl1",b="Post_item__NdJ--",S="Post_textContainer__kA-1s",I="Post_likeContainer__zKa6l",y=t.p+"static/media/man.ab45eb1d42b1faaf3d12.png",C=function(s){var e=s.likesCount,t=s.messages;return(0,m.jsxs)("div",{children:[(0,m.jsxs)("div",{className:b,children:[(0,m.jsx)("img",{src:y}),(0,m.jsx)("div",{className:S,children:t})]}),(0,m.jsx)("div",{className:I,children:(0,m.jsxs)("span",{children:["Like ",e]})})]})},w=t(704),U=t(1047),Z=t(1812),D="AddNewPostForm_btn__a9tNn",M=(0,U.D)(10),A=(0,w.Z)({form:"AddNewPostForm"})((function(s){var e=s.handleSubmit;return(0,m.jsxs)("form",{onSubmit:e,children:[(0,Z.Gr)("newPost",[U.C,M],Z.Kx,"Post Message","input"),(0,m.jsx)("div",{children:(0,m.jsx)("button",{className:D,children:"ADD YOUR POST"})})]})})),F=l.memo((function(s){var e=s.posts,t=s.addPost,i=e.map((function(s,e){return(0,m.jsx)(C,{messages:s.messages,likesCount:s.likesCount},e)}));return(0,m.jsxs)("div",{className:_,children:[(0,m.jsx)("h3",{className:N,children:"My post"}),(0,m.jsx)("div",{className:k,children:(0,m.jsx)("div",{children:(0,m.jsx)(A,{onSubmit:function(s){t(s.newPost)}})})}),(0,m.jsx)("div",{className:g,children:i})]})})),B=(0,u.$j)((function(s){return{posts:s.profilePage.posts}}),(function(s){return{addPost:function(e){s((0,c.Pi)(e))}}}))(F),O=function(s){var e=s.profile,t=s.savePhoto,i=s.status,n=s.updateStatus,r=s.isOwner;return e?(0,m.jsxs)("div",{className:d,children:[(0,m.jsx)(v,{savePhoto:t,isOwner:r,profile:e,status:i,updateStatus:n}),(0,m.jsx)(B,{})]}):(0,m.jsx)(p.p,{})},z=t(4880),J=t(2932),q=t(7781),E=function(s){(0,a.Z)(t,s);var e=(0,o.Z)(t);function t(){return(0,n.Z)(this,t),e.apply(this,arguments)}return(0,r.Z)(t,[{key:"refreshProfile",value:function(){var s=this.props,e=s.authorizedUserId,t=s.history,i=s.getUserProfile,n=s.getUserStatus,r=this.props.match.params.userId;r||(r=null===e?"2":e.toString())||t.push("/login"),i(r),n(r)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(s,e,t){this.props.match.params.userId!==s.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return(0,m.jsx)("div",{children:(0,m.jsx)(O,(0,i.Z)((0,i.Z)({isOwner:!this.props.match.params.userId},this.props),{},{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,savePhoto:this.props.savePhoto}))})}}]),t}(l.Component),K=(0,q.qC)((0,u.$j)((function(s){return{profile:s.profilePage.profile,status:s.profilePage.status,authorizedUserId:s.authUsers.userId,isAuth:s.authUsers.isAuth}}),{setUsersProfile:c.hA,getUserProfile:c.et,getUserStatus:c.lR,updateStatus:c.Nf,savePhoto:c.Ju}),z.EN,J.D)(E)}}]);
//# sourceMappingURL=71.752ed399.chunk.js.map