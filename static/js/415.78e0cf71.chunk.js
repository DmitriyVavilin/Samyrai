"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[415],{3118:function(s,t,e){e.r(t),e.d(t,{default:function(){return T}});var n=e(1413),i=e(5671),r=e(3144),a=e(136),o=e(2882),u=e(2791),c=e(8687),l=e(846),d="Profile_content__aUk8J",p="ProfileInfo_profile__SKOE4",h="ProfileInfo_descriptionBlock__IIcph",f="ProfileInfo_user__Dk4Mu",m=e(9041),j=e(885),x=e(184),_=function(s){var t=s.status,e=s.updateStatus,n=(0,u.useState)(!1),i=(0,j.Z)(n,2),r=i[0],a=i[1],o=(0,u.useState)(t),c=(0,j.Z)(o,2),l=c[0],d=c[1];(0,u.useEffect)((function(){d(t)}),[t]);return(0,x.jsxs)("div",{children:[r?(0,x.jsx)("div",{children:(0,x.jsx)("input",{onChange:function(s){d(s.currentTarget.value)},autoFocus:!0,value:l,onBlur:function(){a(!1),e(l)}})}):(0,x.jsx)("div",{children:(0,x.jsx)("span",{onDoubleClick:function(){a(!0)},children:t||"No status"})}),")"]})},v=e.p+"static/media/bussiness-man.46d7f612aa4b54075372.png",P=function(s){var t=s.profile,e=s.updateStatus,n=s.status,i=s.isOwner;if(!t)return(0,x.jsx)(m.p,{});return(0,x.jsx)("div",{className:p,children:(0,x.jsxs)("div",{className:h,children:[(0,x.jsx)("img",{className:f,src:t.photos.large||v}),i&&(0,x.jsx)("input",{type:"file",onChange:function(s){}}),(0,x.jsx)(_,{status:n,updateStatus:e}),(0,x.jsxs)("ul",{children:[(0,x.jsx)("li",{children:(0,x.jsx)("span",{children:t.contacts.facebook})}),(0,x.jsx)("li",{children:(0,x.jsx)("span",{children:t.contacts.github})}),(0,x.jsx)("li",{children:(0,x.jsx)("span",{children:t.contacts.vk})}),(0,x.jsx)("li",{children:(0,x.jsx)("span",{children:t.contacts.instagram})}),(0,x.jsx)("li",{children:(0,x.jsx)("span",{children:t.contacts.twitter})})]})]})})},g="MyPost_postBlock__6vI7y",k="MyPost_posts__zBSHf",N="MyPost_addPost__ukw3i",S="MyPost_h3__WFJl1",b="Post_item__NdJ--",y="Post_textContainer__kA-1s",C="Post_likeContainer__zKa6l",I=e.p+"static/media/man.ab45eb1d42b1faaf3d12.png",w=function(s){var t=s.likesCount,e=s.messages;return(0,x.jsxs)("div",{children:[(0,x.jsxs)("div",{className:b,children:[(0,x.jsx)("img",{src:I}),(0,x.jsx)("div",{className:y,children:e})]}),(0,x.jsx)("div",{className:C,children:(0,x.jsxs)("span",{children:["Like ",t]})})]})},U=e(704),Z=e(1047),D=e(1812),M="AddNewPostForm_btn__a9tNn",A=(0,Z.D)(10),O=(0,U.Z)({form:"AddNewPostForm"})((function(s){var t=s.handleSubmit;return(0,x.jsxs)("form",{onSubmit:t,children:[(0,D.Gr)("newPost",[Z.C,A],D.Kx,"Post Message","input"),(0,x.jsx)("div",{children:(0,x.jsx)("button",{className:M,children:"ADD YOUR POST"})})]})})),z=u.memo((function(s){var t=s.posts,e=s.addPost,n=t.map((function(s,t){return(0,x.jsx)(w,{messages:s.messages,likesCount:s.likesCount},t)}));return(0,x.jsxs)("div",{className:g,children:[(0,x.jsx)("h3",{className:S,children:"My post"}),(0,x.jsx)("div",{className:N,children:(0,x.jsx)("div",{children:(0,x.jsx)(O,{onSubmit:function(s){e(s.newPost)}})})}),(0,x.jsx)("div",{className:k,children:n})]})})),B=(0,c.$j)((function(s){return{posts:s.profilePage.posts}}),(function(s){return{addPost:function(t){s((0,l.Pi)(t))}}}))(z),F=function(s){var t=s.profile,e=s.status,n=s.updateStatus,i=s.isOwner;return(0,x.jsxs)("div",{className:d,children:[(0,x.jsx)(P,{isOwner:i,profile:t,status:e,updateStatus:n}),(0,x.jsx)(B,{})]})},E=e(4880),J=e(2932),K=e(7781),R=function(s){(0,a.Z)(e,s);var t=(0,o.Z)(e);function e(){return(0,i.Z)(this,e),t.apply(this,arguments)}return(0,r.Z)(e,[{key:"refreshProfile",value:function(){var s=this.props,t=s.authorizedUserId,e=s.history,n=s.getUserProfile,i=s.getUserStatus,r=this.props.match.params.userId;r||(r=null===t?"2":t.toString())||e.push("/login"),n(r),i(r)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(s,t,e){this.props.match.params.userId!==s.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return(0,x.jsx)("div",{children:(0,x.jsx)(F,(0,n.Z)((0,n.Z)({isOwner:!this.props.match.params.userId},this.props),{},{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus}))})}}]),e}(u.Component),T=(0,K.qC)((0,c.$j)((function(s){return{profile:s.profilePage.profile,status:s.profilePage.status,authorizedUserId:s.authUsers.userId,isAuth:s.authUsers.isAuth}}),{setUsersProfile:l.hA,getUserProfile:l.et,getUserStatus:l.lR,updateStatus:l.Nf}),E.EN,J.D)(R)}}]);
//# sourceMappingURL=415.78e0cf71.chunk.js.map